{{
Infobox Modul
|ModPurpose=Das Modul wurde entworfen um den gesamten Heim-/Hausstatus in einem Gerät abzubilden und viele grundlegende Automationen durch Hinzufügen weiterer Geräte bereitzustellen
|ModType=h
|ModCmdRef=HOMEMODE
|ModFTopic=64317
|ModForumArea=Automatisierung
|ModTechName=22_HOMEMODE.pm
|ModOwner=DeeSPe
}}
Diese Seite beschreibt die Konfiguration und Verwendung des Moduls ''22_HOMEMODE.pm''. 

=Allgemeines=
Das Modul ''22_HOMEMODE.pm'' wurde entworfen um den gesamten Heim-/Hausstatus in einem Gerät abzubilden.

Zusätzlich wurde das Modul für die Verwendung mit HomeKit als GUI optimiert. Alle möglichen Mappings für Homebridge sind bereits enthalten und können über einen set Befehl aktualisiert werden.

== Voraussetzungen ==
Um Modul ''22_HOMEMODE.pm'' benutzen zu können benötigt man als Mindestvoraussetzung ein bereits angelegtes RESIDENTS Gerät mit entsprechenden ROOMMATE/GUEST Geräten.

Viele allgemein typische Automationen sind bereits fertig integriert.

Die jeweils per Event auszuführenden Befehle können in den entsprechenden ''HomeCMD...'' Atributen hinterlegt werden und so in der Detail Ansicht des HOMEMODE Geräts übersichtlich angezeigt und bearbeitet werden.

Das Anlegen vieler notify/DOIF ist damit unnötig.

== Beispiele für mögliche Automationen ==
Alle Automationen sind optional.

Hier ein paar Beispiele:
*Änderung des Zustands von ROOMMATE/GUEST Geräten anhand von PRESENCE Geräten
*Bereistellung von CMD Attributen für mögliche Events rund um den "Zuhause Modus"
*Bereistellung von Platzhaltern innerhalb der CMD Attribute, z.B. %MODE%, %SEASON% oder %PREVMODE% für die Werte der Readings mode, season und prevMode
*Einbindung von Kontakt Sensoren, für z.B. Offen-Warnungen nach bestimmten Zeitraum oder Alarm Meldungen in bestimmten Alarm Modus - kann pro Kontakt Sensor konfiguriert werden
*Einbindung von Bewegungs Sensoren, für z.B. automatische Licht Schaltungen oder Alarm Meldungen in bestimmten Alarm Modus - kann pro Bewegungs Sensor konfiguriert werden
*Darstellungen und Auslösen von Sabotage Alarmen der eingebundenen Kontakt- und Bewegungssensoren
*Einbindung von jeweils einem Temperatur und Luftfeuchtigkeitssensor
*Einbindung eines lokalen Yahoo Wetter Devices zur Ermittlung und Ausgabe der lokalen Wetterdaten und Erzeugung der Wettervorhersage
*Einbindung von Power und Energy Sensoren zur Ermittlung der Gesamtmengen
*Einbindung von holiday Devices für spezielle im HOMEMODE Device verfügbar zu machende Events
*von Uhrzeit abhängiger Anwesend-Modus
*Bewohner unabhängige Tageszeit-Modus
*Alarm-Modus
*DND-Modus

=HOMEMODE-Gerät=
==Definition==
Das HOMEMODE Gerät - hier mit dem Namen ''Home'' versehen - selbst wird über
 define Home HOMEMODE
bei Vorhandensein nur eines RESIDENTS Geräts definiert.
Bei Verwendung mehrerer RESIDENTS Geräte muss das Master RESIDENTS Gerät beim Definieren mit angegeben werden
 define Home HOMEMODE rgr_Residents
*Dieses Modul verwendet das globale Attribut ''language'' zur Bestimmung der Anzeigedaten (Standard: EN=english). Für deutsche Ausgabedaten kann in FHEM das Attribut 
 attr global language DE
gesetzt werden.
*alternativ kann auch nur das HOMEMODE Gerät auf deutsch geändert werden
 attr Home HomeLanguage DE